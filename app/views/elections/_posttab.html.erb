<% if election_view.present? && post_grid.present? %>
  <%= grid(post_grid, html: {class: 'election-grid'}) do |g|
    g.row_attributes do |post|
      if post.board
        {class: "board-post #{post.elected_by}"}
      else
        {class: post.elected_by}
      end
    end

    g.column(name: Post.human_attribute_name(:title),
             attribute: 'title') do |post|
      link_to(post.title, display_post_path(post), remote: true, method: :patch)
    end

    g.column name: Post.human_attribute_name(:limit), attribute: 'limit',
      filter: false do |post|
      print_post_limit(post)
    end

    g.column(name: model_name(Council), assoc: :council,
             attribute: 'title',
             custom_filter: :auto) do |post|
      link_to(post.council, post.council, target: :blank_p)
    end

    g.column(name: Post.human_attribute_name(:elected_by),
             attribute: 'elected_by', filter: false) do |post|
      t("model.post.#{post.elected_by}")
    end

    if election_view.election.state != :before
      g.column name: models_name(Candidate), filter: false do |post|
        election_view.election.candidate_count(post)
      end
    end
  end -%>
<% end %>
